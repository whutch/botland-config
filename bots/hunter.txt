// Hunter
// Bot configuration for Bot Land (http://bot.land)
// :version: 2.1
// :license: MIT (https://github.com/whutch/botland-config/blob/master/LICENSE.txt)

// Suggested hardware: missiles 3, cloak 2, shield 1, reflect 1


init = function() {
    // const
    fight = true;
    // status
    direction = "left";
    last_life = life;
}

update = function () {
    if (life < last_life) {
        last_life = life;
        defend();
    }
    enemy = findClosestEnemyBot();
    if (exists(enemy) && canSense(enemy)) {
        if (fight) {
            if (willLasersHit(enemy)) {
                fireLasers(enemy);
            }
            if (willMissilesHit(enemy)) {
                fireMissiles(enemy);
            }
            if (willArtilleryHit()) {
                fireArtillery();
            }
        }
        pursue(enemy);
    } else {
        if (!canMove(direction)) {
            direction = next_direction(direction)
        }
        move(direction);
    }
};

defend = function() {
    if (isShielded() || isCloaked() || isReflecting()) return;
    if (canShield()) shield();
    if (canCloak()) cloak();
    if (canReflect()) reflect();
}

next_direction = function(direction) {
    if (direction == "left") return "up";
    if (direction == "up") return "right";
    if (direction == "right") return "down";
    if (direction == "down") return "left";
};
